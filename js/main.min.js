!function(){var a=27,b=document.querySelector(".btn-write-us");if(b){var j,k,c=document.querySelector(".form-write-us"),d=c.firstElementChild,e=c.querySelector("#name"),f=c.querySelector("#email"),g=c.querySelector("#text"),h=c.querySelector(".btn-close"),i=document.querySelector(".modal-overlay");localStorage&&(j=localStorage.getItem("name"),k=localStorage.getItem("email"));var l=function(){return e.value.trim()?f.value.trim()&&f.validity.valid?g.value.trim()?!0:(g.focus(),!1):(f.focus(),!1):(e.focus(),!1)},m=function(a){l()?(localStorage.setItem("name",e.value),localStorage.setItem("email",f.value)):(a.preventDefault(),c.classList.remove("form-error"),d.offsetWidth=d.offsetWidth,c.classList.add("form-error"))},n=function(){d.removeEventListener("submit",m),h.removeEventListener("click",p),document.removeEventListener("keydown",o),c.classList.remove("form-error")},o=function(b){b.keyCode===a&&(n(),i.classList.remove("popup-visible"),c.classList.remove("popup-visible"))},p=function(a){a.preventDefault(),n(),i.classList.remove("popup-visible"),c.classList.remove("popup-visible")},q=function(a){a.preventDefault(),e.required=!0,e.focus(),j&&(e.value=j,f.focus()),f.required=!0,k&&(f.value=k,g.focus()),g.required=!0,d.addEventListener("submit",m),h.addEventListener("click",p),document.addEventListener("keydown",o),c.classList.add("popup-visible"),i.classList.add("popup-visible")};b.addEventListener("click",q)}var r=document.querySelector(".map");if(r){var s=document.querySelector(".full-interactive-map"),t=s.querySelector(".btn-close"),u=function(){t.removeEventListener("click",v),document.removeEventListener("keydown",w)},v=function(a){a.preventDefault(),u(),s.classList.remove("popup-visible")},w=function(b){b.keyCode===a&&(u(),s.classList.remove("popup-visible"))},x=function(a){a.preventDefault(),t.addEventListener("click",v),document.addEventListener("keydown",w),s.classList.add("popup-visible")};r.addEventListener("click",x)}var y=document.querySelector(".message-info-add-card");if(y){var z=y.querySelector(".btn-close"),A=y.querySelector(".btn-back-catalog"),B=y.querySelector(".btn-to-order"),C=document.querySelector(".product-list"),D=document.querySelector(".popular-product-list"),E=function(){z.addEventListener("click",H),A.addEventListener("click",H),B.addEventListener("click",I),document.addEventListener("keydown",J)},F=function(a){"buy"===a.target.className&&(a.preventDefault(),E(),y.classList.add("popup-visible"))};C&&C.addEventListener("click",F),D&&D.addEventListener("click",F);var G=function(a){z.removeEventListener("click",H),A.removeEventListener("click",H),B.removeEventListener("click",I),document.removeEventListener("keydown",J)},H=function(a){a.preventDefault(),G(),y.classList.remove("popup-visible")},I=function(a){G(),y.classList.remove("popup-visible")},J=function(b){b.keyCode===a&&(G(),y.classList.remove("popup-visible"))}}}();